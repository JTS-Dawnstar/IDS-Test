<!DOCTYPE html>
<html lang="en" >
<head>
  <!-- <script src="./mini-coi.js" scope="./"></script> -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">

  <!-- PyScript CSS -->
  <link rel="stylesheet" href="https://pyscript.net/releases/2024.9.1/core.css">

  <!-- This script tag bootstraps PyScript -->
<!--   <script type="module" src="https://pyscript.net/releases/2024.9.1/core.js"></script> -->

        <script type="module" src="https://cdn.jsdelivr.net/npm/@pyscript/core@0.4.46/dist/core.js"></script>


  <link rel="stylesheet" href="https://unpkg.com/splitpanes@legacy/dist/splitpanes.css">
  <link rel="stylesheet" href="./style-splitpanes.css">
  
  <!-- bokeh scripts -->
  <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.4.1.min.js"></script>
  <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.4.1.min.js"></script>
  <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.4.1.min.js"></script>
  <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.4.1.min.js"></script>
  <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.4.1.min.js"></script>
  <script type="text/javascript">
   	  Bokeh.set_log_level("info");
  </script>
</head>
<body>
<!-- partial:index.partial.html -->
<div id="app">
  <splitpanes class="default-theme">
    <pane>
        <div class="editor-container">
	    <script type="py" src="./graphs.py" config="./pyscript.toml"></script>
            <!-- <script type="mpy" src="./eh.py"></script> -->
			<script id="g" type="py-editor" env="with_data" worker>
				# This line loads a required math library
				import numpy as np
				
				# Your setup code goes here
				
				
				def predict(x): 
				    # Your code goes here
				    
				    return 15
				
				# This actually runs your prediction function
				data__object.prediction = predict
			</script>
		</div>
    </pane>
    <pane>
      <splitpanes class="default-theme" horizontal="horizontal">
        <pane>
		  <section class="pyscript">
            <div id="myplot"></div>   <!-- DON'T DELETE THIS -->
        </section>
		</pane>
        <pane id="text-stuff">
		  <h1>
			Level 1 - It's All Lining Up
		  </h1>
		  <p>
			By now, you probably know generally what you're supposed to do - you're predicting the future after all! However, before you can do that, we're gonna have to cover some basics. This level is meant to teach you how to nagivate the interface you see before yourself. The top right panel shows a graph of some data. Two zones are highlighted. The green zone contains the data that you have access to. The data in the red zone is what you're trying to predict. To make a prediction, you must use the left panel - the Python Panel. Try clicking the run button on the right side of the Python Panel. You'll see that the default program predicts a value of 15 for every datapoint, but this not a great prediction method, to say the least. In fact, if you press the run button right now, you'll see a value representing your prediction's average error pop up, and it will likely be around 30. Your goal is to have an average error of less than 5. Therefore, you'll have to program a better prediction method yourself. 
		  </p>
		  <p>
			You'll notice that the datapoints you can see generally lie in a straight line. This is important, because the type of prediction method you're going to be making is called a "Linear Fit", as it fits a straight line to the data. So how do we actually access the data? You can do this through a variable called <b>__data__</b>. In particular, <b>__data__.x</b> gives you all the x-values for the known datapoints (i.e. 1, 2, 3, 4, 5, up to whatever the last point is, in this case 40), and <b>__data__.y</b> gets the actual recorded data - the y-values. Your program has been given access to these two variables so that you can make predictions. 
		  </p>
		  <p>
			Now, how are you actually going to program a Linear Fit algorithm? Well, the <b>Numpy</b> library for Python, which comes pre-loaded here, includes a function that can handle most of the math for you! It's called <b>np.polyfit(x, y, deg)</b>. Catchy name, right? Since we're looking for a linear fit, we'll set <b>deg = 1</b>. The other two arguments, <b>x</b> and <b>y</b>, are lists of x and y coordinates (Like <b>__data__.x</b> and <b>__data__.y</b>). The function, <b>np.polyfit(x, y, 1)</b>, then returns a pair of values, (<b>m</b>, <b>b</b>), where y = <b>m</b>x + <b>b</b> is the line of best fit for the data! So, if you put <b>m, b = np.polyfit(__data__.x, __data__.y, 1)</b> in the setup code for your program, then inside your prediction function, you can just return <b>m*x + b</b>. Try it out! See what you can do. 
		  </p>
		</pane>
      </splitpanes>
    </pane>
  </splitpanes>
</div>
<!-- partial -->
    <script src="https://unpkg.com/vue@legacy"></script>
    <script src="https://unpkg.com/splitpanes@legacy"></script>
    <script src="./script-splitpanes.js"></script>

</body>
</html>
